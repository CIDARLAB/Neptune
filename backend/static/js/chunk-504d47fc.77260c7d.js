(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-504d47fc"],{"025e":function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));a("d3b7"),a("25f0");function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now().toString(),e=new Date(t);return e.toLocaleDateString()+" "+e.toLocaleTimeString()}},"1a96":function(t,e,a){"use strict";var n=a("d24f"),i=a.n(n);i.a},"1f4f":function(t,e,a){"use strict";a("a9e3");var n=a("5530"),i=(a("8b37"),a("80d2")),s=a("7560"),o=a("58df");e["a"]=Object(o["a"])(s["a"]).extend({name:"v-simple-table",props:{dense:Boolean,fixedHeader:Boolean,height:[Number,String]},computed:{classes:function(){return Object(n["a"])({"v-data-table--dense":this.dense,"v-data-table--fixed-height":!!this.height&&!this.fixedHeader,"v-data-table--fixed-header":this.fixedHeader},this.themeClasses)}},methods:{genWrapper:function(){return this.$slots.wrapper||this.$createElement("div",{staticClass:"v-data-table__wrapper",style:{height:Object(i["g"])(this.height)}},[this.$createElement("table",this.$slots.default)])}},render:function(t){return t("div",{staticClass:"v-data-table",class:this.classes},[this.$slots.top,this.genWrapper(),this.$slots.bottom])}})},"8b37":function(t,e,a){},a523:function(t,e,a){"use strict";a("99af"),a("4de4"),a("b64b"),a("2ca0"),a("20f6"),a("4b85"),a("a15b"),a("498a");var n=a("2b0e");function i(t){return n["a"].extend({name:"v-".concat(t),functional:!0,props:{id:String,tag:{type:String,default:"div"}},render:function(e,a){var n=a.props,i=a.data,s=a.children;i.staticClass="".concat(t," ").concat(i.staticClass||"").trim();var o=i.attrs;if(o){i.attrs={};var r=Object.keys(o).filter((function(t){if("slot"===t)return!1;var e=o[t];return t.startsWith("data-")?(i.attrs[t]=e,!1):e||"string"===typeof e}));r.length&&(i.staticClass+=" ".concat(r.join(" ")))}return n.id&&(i.domProps=i.domProps||{},i.domProps.id=n.id),e(n.tag,i,s)}})}var s=a("d9f7");e["a"]=i("container").extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render:function(t,e){var a,n=e.props,i=e.data,o=e.children,r=i.attrs;return r&&(i.attrs={},a=Object.keys(r).filter((function(t){if("slot"===t)return!1;var e=r[t];return t.startsWith("data-")?(i.attrs[t]=e,!1):e||"string"===typeof e}))),n.id&&(i.domProps=i.domProps||{},i.domProps.id=n.id),t(n.tag,Object(s["a"])(i,{staticClass:"container",class:Array({"container--fluid":n.fluid}).concat(a||[])}),o)}})},ce25:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"12"}},[a("base-material-card",{staticClass:"px-5 py-3 mb-5",attrs:{color:"success",icon:"mdi-clipboard-text",inline:"",title:"Jobs"}},[a("v-simple-table",{attrs:{height:"300px"}},[a("thead",[a("tr",[a("th",[t._v("Name")]),a("th",[t._v("Last Updated")]),a("th",[t._v("# Files")]),a("th",{staticClass:"text-right"},[t._v(" Actions ")])])]),a("tbody",t._l(t.jobs,(function(e,n){return a("tr",{key:n},[a("td",[t._v(t._s(e.name))]),a("td",[t._v(t._s(t.formattimestamp(e.created_at)))]),a("td",[t._v(t._s(e.files.length))]),a("td",{staticClass:"text-right"},[a("v-btn",{staticClass:"ml-1",attrs:{color:"green",fab:"",icon:"","x-small":""},on:{click:function(a){return t.downloadjobfiles(e.id)}}},[a("v-icon",{attrs:{small:""}},[t._v(" mdi-download ")])],1),a("v-btn",{staticClass:"ml-1",attrs:{color:"blue",fab:"",icon:"","x-small":""},on:{click:function(a){return t.viewjobfiles(e.id)}}},[a("v-icon",{attrs:{small:""}},[t._v(" mdi-view-split-vertical ")])],1),a("v-btn",{staticClass:"ml-1",attrs:{color:"red",fab:"",icon:"","x-small":""},on:{click:function(a){return t.deletejob(e.id)}}},[a("v-icon",{attrs:{small:""}},[t._v(" mdi-delete ")])],1)],1)])})),0)])],1)],1),t._l(t.files,(function(e,n){return a("v-col",{key:n,attrs:{col:"12",sm:"6"}},[a("base-material-card",{staticClass:"px-4 py-3",attrs:{color:"success",icon:"mdi-file",title:e.name}},[a("v-divider",{staticClass:"ma-3"}),a("div",{staticClass:"px-3"},[a("div",{staticClass:"body-2 text-uppercase grey--text font-weight-bold mb-3"},[t._v(" Actions ")]),a("v-row",{staticClass:"ma-0",attrs:{align:"center"}},[a("v-btn",{staticClass:"ml-1",attrs:{color:"green",fab:"",icon:"","x-small":""},on:{click:function(a){return t.downloadfile(e)}}},[a("v-icon",{attrs:{small:""}},[t._v(" mdi-download ")])],1),a("v-btn",{staticClass:"ml-1",attrs:{color:"blue",fab:"",icon:"","x-small":""},on:{click:function(a){return t.openpreview(e.id)}}},[a("v-icon",{attrs:{small:""}},[t._v(" mdi-open-in-new ")])],1)],1)],1)],1)],1)}))],2)],1)},i=[],s=(a("b0c0"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("b85c")),o=a("bc3a"),r=a.n(o),l=a("025e"),c={data:function(){return{selectedjobid:"",jobs:[],files:[],jobobjects:{}}},mounted:function(){this.getAllJobs()},methods:{formattimestamp:function(t){return l["a"](t)},downloadfile:function(t){var e=new URL("/api/v1/downloadFile?id="+t.id,document.baseURI);console.log("downloading file: ",t.id);r()({method:"get",url:e,responseType:"arraybuffer"}).then((function(e){var a=window.URL.createObjectURL(new Blob([e.data])),n=document.createElement("a");n.href=a,n.setAttribute("download",t.name),document.body.appendChild(n),n.click()}))},openpreview:function(t){alert(t)},deletejob:function(t){alert(t)},viewjobfiles:function(t){var e=this;this.selectedjobid=t,this.files=[];var a,n=Object(s["a"])(this.jobobjects[t].files);try{for(n.s();!(a=n.n()).done;){var i=a.value;r.a.get("/api/v1/file",{params:{id:i}}).then((function(t){console.log(t.data),e.files.push(t.data)})).catch((function(t){console.log(t)}))}}catch(o){n.e(o)}finally{n.f()}},downloadjobfiles:function(t){alert(t)},complete:function(t){this.list[t]=!this.list[t]},getAllJobs:function(){var t={withCredentials:!0,crossorigin:!0,headers:{"Content-Type":"application/json"}},e=this;r.a.get("/api/v1/jobs",t).then((function(t){console.log(t.data),e.jobs=[],e.jobobjects={};var a,n=Object(s["a"])(t.data);try{for(n.s();!(a=n.n()).done;){var i=a.value;r.a.get("/api/v1/job",{params:{job_id:i}}).then((function(t){console.log(t.data),e.jobs.push(t.data),e.jobobjects[t.data.id]=t.data})).catch((function(t){console.log(t)}))}}catch(o){n.e(o)}finally{n.f()}})).catch((function(t){console.log(t)}))}}},d=c,f=(a("1a96"),a("2877")),u=a("6544"),b=a.n(u),v=a("8336"),p=a("62ad"),h=a("a523"),m=a("ce7e"),g=a("132d"),j=a("0fd9"),w=a("1f4f"),C=Object(f["a"])(d,n,i,!1,null,null,null);e["default"]=C.exports;b()(C,{VBtn:v["a"],VCol:p["a"],VContainer:h["a"],VDivider:m["a"],VIcon:g["a"],VRow:j["a"],VSimpleTable:w["a"]})},d24f:function(t,e,a){}}]);
//# sourceMappingURL=chunk-504d47fc.77260c7d.js.map